<div class="max-w-2xl mx-auto p-4">
  <h2 class="text-2xl font-bold mb-6 text-gray-800">Your Feed üì±</h2>

  @if (loading()) {
    <div class="text-center py-10">
      <p class="text-blue-500 animate-pulse">Loading amazing posts...</p>
    </div>
  }

  @if (error) {
    <div class="bg-red-100 text-red-700 p-4 rounded mb-4">
      Error connecting to server. Is Backend running?
    </div>
  }

  @for (post of posts(); track post._id) {
    <div class="bg-white rounded-xl shadow-md overflow-hidden mb-6 border border-gray-100">
      
      <div class="flex items-center p-4 border-b border-gray-50">
        <div class="h-10 w-10 rounded-full bg-blue-100 flex items-center justify-center text-blue-600 font-bold">
          {{ post.author?.avatarUrl ? '' : (post.author?.username?.[0]?.toUpperCase() || 'U') }}        </div>
        <div class="ml-3">
          <p class="font-semibold text-gray-900">{{ post.author.username }}</p>
          <p class="text-xs text-gray-500">Just now</p>
        </div>
      </div>

      <div class="p-4">
        <p class="text-gray-800 text-lg">{{ post.content }}</p>
      </div>

      <div class="px-4 py-3 bg-gray-50 flex items-center text-gray-600 text-sm">
        <span class="flex items-center cursor-pointer hover:text-red-500 transition">
          ‚ù§Ô∏è {{ post.likes }} Likes
        </span>
      </div>
    </div>
  } @empty {
    <div class="text-center text-gray-500 py-10">
      No posts yet. Be the first to post!
    </div>
  }
  <div class="text-center mt-6 mb-10">
    <button
      (click)="loadPosts()"
      [disabled]="loading()"
      class="bg-gray-100 hover:bg-gray-200 text-gray-800 font-semibold py-2 px-6 rounded-full transition disabled:opacity-50"
    >
      @if (loading()) {
        Wait...
      } @else {
        Load More üëá
      }
    </button>
  </div>
</div>